var _$_c7d3=["use strict","mode","debug","version","apiBaseUrl","host","location","localhost","127.0.0.1","http://","/api/","https://burningingpushes.info/api/","storage","push-ka","params","defaultMessage","You have new message","You received new message.","push-ka-default-tag","init","push","addEventListener","install","activate","notificationclick","pushsubscriptionchange","on install event","skipWaiting","waitUntil","on activate event","claim","clients","Received a push message","catch","endpoint","then","getSubscription","pushManager","registration","srv","get","sid","On notification click: ","close","notification","action","openWindow","actions","data","url","length","/","focus","window","matchAll","undefined","title","tag","prototype","showNotification","subscription/message?subsId=","&subsEndpoint=","","&srv=","notify","pixels","include","GET","no-cors","forEach","No content for subsId:","json","application/json; charset=UTF-8","Push Subscription Change","log","subscription/change","post","application/json","stringify","uid","[SW] ","error","random","open","onupgradeneeded","result","oldVersion","key","createObjectStore","transaction","target","newVersion","add","objectStore","onsuccess","Success upgrade to version:","; id:","onerror","Error on open Db (","):","success init db store:","readonly","value","Error on get key:"," (","set","readwrite","put","del","delete","store"];_$_c7d3[0];var PushKaSw=function(){var _0x24F27=this;this[_$_c7d3[1]]= _$_c7d3[2];this[_$_c7d3[3]]= 3;this[_$_c7d3[4]]= self[_$_c7d3[6]][_$_c7d3[5]]=== _$_c7d3[7]|| self[_$_c7d3[6]][_$_c7d3[5]]=== _$_c7d3[8]?_$_c7d3[9]+ self[_$_c7d3[6]][_$_c7d3[5]]+ _$_c7d3[10]:_$_c7d3[11];this[_$_c7d3[12]]= ( new _0x24D41(_$_c7d3[13],_$_c7d3[14]));this[_$_c7d3[15]]= {title:_$_c7d3[16],body:_$_c7d3[17],tag:_$_c7d3[18],data:[]};this[_$_c7d3[19]]= function(){self[_$_c7d3[21]](_$_c7d3[20],_0x24E85);self[_$_c7d3[21]](_$_c7d3[22],_0x24E4F);self[_$_c7d3[21]](_$_c7d3[23],_0x24DE3);self[_$_c7d3[21]](_$_c7d3[24],_0x24E19);self[_$_c7d3[21]](_$_c7d3[25],_0x24EBB);return _0x24F27};function _0x24E4F(_0x254D9){_0x24DAD(_$_c7d3[26]);_0x254D9[_$_c7d3[28]](self[_$_c7d3[27]]())}function _0x24DE3(_0x254D9){_0x24DAD(_$_c7d3[29]);_0x254D9[_$_c7d3[28]](self[_$_c7d3[31]][_$_c7d3[30]]())}function _0x24E85(_0x254D9){_0x24DAD(_$_c7d3[32]);_0x254D9[_$_c7d3[28]](_0x24F27[_$_c7d3[12]][_$_c7d3[40]](_$_c7d3[41])[_$_c7d3[35]](function(_0x25035){_0x24F27[_$_c7d3[12]][_$_c7d3[40]](_$_c7d3[39])[_$_c7d3[35]](function(_0x2561D){self[_$_c7d3[38]][_$_c7d3[37]][_$_c7d3[36]]()[_$_c7d3[35]](function(_0x25653){_0x24D0B(_0x25035,_0x25653[_$_c7d3[34]],_0x2561D)})})[_$_c7d3[33]](function(_0x25143){_0x24CD5(_0x25143);self[_$_c7d3[38]][_$_c7d3[37]][_$_c7d3[36]]()[_$_c7d3[35]](function(_0x25653){_0x24D0B(_0x25035,_0x25653[_$_c7d3[34]],null)})})})[_$_c7d3[33]](function(_0x25143){_0x24CD5(_0x25143)}))}function _0x24E19(_0x254D9){_0x24DAD(_$_c7d3[42],_0x254D9);_0x254D9[_$_c7d3[44]][_$_c7d3[43]]();_0x254D9[_$_c7d3[28]](clients[_$_c7d3[54]]({type:_$_c7d3[53]})[_$_c7d3[35]](function(_0x255B1){if(_0x254D9[_$_c7d3[45]]){if(clients[_$_c7d3[46]]&& _0x254D9[_$_c7d3[44]][_$_c7d3[48]][_$_c7d3[47]][_0x254D9[_$_c7d3[45]]]&& _0x254D9[_$_c7d3[44]][_$_c7d3[48]][_$_c7d3[47]][_0x254D9[_$_c7d3[45]]][_$_c7d3[49]]){return clients[_$_c7d3[46]](_0x254D9[_$_c7d3[44]][_$_c7d3[48]][_$_c7d3[47]][_0x254D9[_$_c7d3[45]]][_$_c7d3[49]])}};if(clients[_$_c7d3[46]]&& _0x254D9[_$_c7d3[44]][_$_c7d3[48]][_$_c7d3[49]]){return clients[_$_c7d3[46]](_0x254D9[_$_c7d3[44]][_$_c7d3[48]][_$_c7d3[49]])};for(var _0x255E7=0;_0x255E7< _0x255B1[_$_c7d3[50]];_0x255E7++){var _0x2557B=_0x255B1[_0x255E7];if(_0x2557B[_$_c7d3[49]]=== _$_c7d3[51]&& _$_c7d3[52] in  _0x2557B){return _0x2557B[_$_c7d3[52]]()}}}))}function _0x24EF1(_0x250D7){if( typeof _0x250D7!= _$_c7d3[55]){_0x250D7[_$_c7d3[56]]=  typeof _0x250D7[_$_c7d3[56]]!= _$_c7d3[55]?_0x250D7[_$_c7d3[56]]:_0x24F27[_$_c7d3[15]][_$_c7d3[56]];_0x250D7[_$_c7d3[48]]=  typeof _0x250D7[_$_c7d3[48]]!= _$_c7d3[55]?_0x250D7[_$_c7d3[48]]:_0x24F27[_$_c7d3[15]][_$_c7d3[48]];_0x250D7[_$_c7d3[57]]=  typeof _0x250D7[_$_c7d3[57]]!= _$_c7d3[55]?_0x250D7[_$_c7d3[57]]:_0x24F27[_$_c7d3[15]][_$_c7d3[57]]}else {_0x250D7= _0x24F27[_$_c7d3[15]]};if(!(_$_c7d3[47] in  Notification[_$_c7d3[58]])){delete _0x250D7[_$_c7d3[47]]};self[_$_c7d3[38]][_$_c7d3[59]](_0x250D7[_$_c7d3[56]],_0x250D7);return true}function _0x24D0B(_0x25035,_0x24FFF,_0x24FC9){var _0x24F93=_0x25035?null:(_0x24FFF?_0x24FFF:null);var _0x2506B=_0x24F27[_$_c7d3[4]]+ _$_c7d3[60]+ encodeURIComponent(_0x25035)+ (_0x24F93?_$_c7d3[61]+ encodeURIComponent(_0x24F93):_$_c7d3[62])+ (_0x24FC9?_$_c7d3[63]+ encodeURIComponent(_0x24FC9):_$_c7d3[62]);fetch(_0x2506B,{headers:{'Content-Type':_$_c7d3[72]},credential:_$_c7d3[66]})[_$_c7d3[35]](function(_0x250A1){return _0x250A1[_$_c7d3[71]]()})[_$_c7d3[35]](function(_0x250D7){if(_0x250D7[_$_c7d3[64]]){_0x24EF1(_0x250D7[_$_c7d3[64]]);if(_0x250D7[_$_c7d3[65]]&& _0x250D7[_$_c7d3[65]][_$_c7d3[50]]> 0){_0x250D7[_$_c7d3[65]][_$_c7d3[69]](function(_0x2510D){fetch(_0x2510D,{credentials:_$_c7d3[66],method:_$_c7d3[67],mode:_$_c7d3[68]})})}}else {_0x24DAD(_$_c7d3[70]+ _0x25035)}})[_$_c7d3[33]](function(_0x25143){_0x24CD5(_0x25143)})}function _0x24EBB(_0x254D9){console[_$_c7d3[74]](_$_c7d3[73]);_0x254D9[_$_c7d3[28]](self[_$_c7d3[38]][_$_c7d3[37]][_$_c7d3[36]]()[_$_c7d3[35]](function(_0x25653){_0x24F27[_$_c7d3[12]][_$_c7d3[40]](_$_c7d3[79])[_$_c7d3[35]](function(_0x25689){_0x24F27[_$_c7d3[12]][_$_c7d3[40]](_$_c7d3[41])[_$_c7d3[35]](function(_0x25035){return fetch(_0x24F27[_$_c7d3[4]]+ _$_c7d3[75],{method:_$_c7d3[76],headers:{'Content-type':_$_c7d3[77]},body:JSON[_$_c7d3[78]]({subsId:_0x25035,clientId:_0x25689,subs:_0x25653,event:_0x254D9})})})[_$_c7d3[33]](function(_0x25143){_0x24CD5(_0x25143)})})[_$_c7d3[33]](function(_0x25143){_0x24CD5(_0x25143)})})[_$_c7d3[33]](function(_0x25143){_0x24CD5(_0x25143)}))}function _0x24D77(){return _0x24F27[_$_c7d3[1]]=== _$_c7d3[2]}function _0x24CD5(_0x24F5D){console[_$_c7d3[81]](_$_c7d3[80]+ _0x24F5D)}function _0x24DAD(_0x24F5D){if(_0x24D77()){console[_$_c7d3[74]](_$_c7d3[80]+ _0x24F5D)}}function _0x24D41(_0x251AF,_0x25251){var _0x25179=null;var _0x25287=null;var _0x2521B=this;if(_0x25251){_0x25287= _0x25251};this[_$_c7d3[19]]= _0x251E5;function _0x251E5(_0x25251){var _0x25437=Math[_$_c7d3[82]]();var _0x252F3= new Promise(function(_0x2535F,_0x25329){if(_0x25179&& _0x25251== _0x25287){_0x2535F(_0x25179);return};var _0x2546D=indexedDB[_$_c7d3[83]](_0x251AF);_0x2546D[_$_c7d3[84]]= function(_0x254D9){_0x25179= _0x2546D[_$_c7d3[85]];if(_0x254D9[_$_c7d3[86]]< 1){var _0x2550F=_0x25179[_$_c7d3[88]](_0x25287,{keyPath:_$_c7d3[87]});var _0x25545=_0x254D9[_$_c7d3[90]][_$_c7d3[89]];var _0x254A3=_0x25545[_$_c7d3[93]](_0x25287)[_$_c7d3[92]]({key:_$_c7d3[3],value:_0x254D9[_$_c7d3[91]]});_0x254A3[_$_c7d3[94]]= function(){_0x24DAD(_$_c7d3[95]+ _0x254D9[_$_c7d3[91]]+ _$_c7d3[96]+ _0x25437)}}};_0x2546D[_$_c7d3[97]]= function(_0x25143){_0x25329( new Error(_$_c7d3[98]+ _0x251AF+ _$_c7d3[99]+ _0x25143+ _$_c7d3[96]+ _0x25437))};_0x2546D[_$_c7d3[94]]= function(){_0x25179= _0x2546D[_$_c7d3[85]];_0x24DAD(_$_c7d3[100]+ _0x251AF+ _$_c7d3[96]+ _0x25437);_0x2535F(_0x25179)}});return _0x252F3}this[_$_c7d3[40]]= function(_0x252BD){var _0x252F3= new Promise(function(_0x2535F,_0x25329){_0x2521B[_$_c7d3[19]](_0x25287)[_$_c7d3[35]](function(_0x25395){var _0x253CB=_0x25395[_$_c7d3[89]](_0x25287,_$_c7d3[101]);var _0x25251=_0x253CB[_$_c7d3[93]](_0x25287);var _0x250D7=_0x25251[_$_c7d3[40]](_0x252BD);_0x250D7[_$_c7d3[94]]= function(_0x25143){_0x2535F(_0x25143[_$_c7d3[90]][_$_c7d3[85]]?_0x25143[_$_c7d3[90]][_$_c7d3[85]][_$_c7d3[102]]:null)};_0x250D7[_$_c7d3[97]]= function(_0x25143){_0x25329( new Error(_$_c7d3[103]+ _0x252BD+ _$_c7d3[104]+ _0x25287+ _$_c7d3[99]+ _0x25143))}})[_$_c7d3[33]](function(_0x24CD5){_0x25329(_0x24CD5)})});return _0x252F3};this[_$_c7d3[105]]= function(_0x252BD,_0x25401){var _0x252F3= new Promise(function(_0x2535F,_0x25329){_0x2521B[_$_c7d3[19]](_0x25287)[_$_c7d3[35]](function(_0x25179){var _0x253CB=_0x25179[_$_c7d3[89]](_0x25287,_$_c7d3[106]);var _0x25251=_0x253CB[_$_c7d3[93]](_0x25287);_0x25251[_$_c7d3[107]]({key:_0x252BD,value:_0x25401})[_$_c7d3[94]]= function(_0x25143){_0x2535F(_0x25143[_$_c7d3[90]][_$_c7d3[85]])}})[_$_c7d3[33]](function(_0x24CD5){_0x25329(_0x24CD5)})});return _0x252F3};this[_$_c7d3[108]]= function(_0x252BD){var _0x252F3= new Promise(function(_0x2535F,_0x25329){_0x2521B[_$_c7d3[19]](_0x25287)[_$_c7d3[35]](function(_0x25179){var _0x253CB=_0x25179[_$_c7d3[89]](_0x25287,_$_c7d3[106]);var _0x25251=_0x253CB[_$_c7d3[93]](_0x25287);_0x25251[_$_c7d3[109]](_0x252BD)[_$_c7d3[94]]= function(_0x25143){_0x2535F(true)}})[_$_c7d3[33]](function(_0x24CD5){_0x25329(_0x24CD5)})});return _0x252F3};this[_$_c7d3[110]]= function(_0x25251){_0x25287= _0x25251}}};var objPushKaSw=( new PushKaSw)[_$_c7d3[19]]()
